<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments :: head('Admin â€¢ Festivals')}"></head>
<body class="bg-gray-50">
  <div th:replace="~{fragments :: navbar}"></div>
  <div th:replace="~{fragments :: flash}"></div>

  <main class="container mx-auto px-4 py-8">
    <div class="flex items-center justify-between mb-4">
      <h1 class="text-xl font-semibold">Beheer: Festivals</h1>
      <a href="/admin/festivals/new" class="px-4 py-2 rounded bg-black text-white">Nieuw festival</a>
    </div>

    <div class="bg-white rounded-xl shadow overflow-x-auto">
      <table class="min-w-full text-sm">
        <thead class="bg-gray-50">
          <tr>
            <th class="text-left px-4 py-2">Naam</th>
            <th class="text-left px-4 py-2">Datum</th>
            <th class="text-left px-4 py-2">Locatie</th>
            <th class="text-left px-4 py-2">Categorie</th>
            <th class="px-4 py-2 text-right">Acties</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="f : ${festivals}" class="border-t">
            <td class="px-4 py-2" th:text="${f.name}">Naam</td>
            <td class="px-4 py-2" th:text="${#temporals.format(f.startDateTime,'dd/MM/yyyy HH:mm')}">Datum</td>
            <td class="px-4 py-2" th:text="${f.location != null ? f.location.name : 'n.v.t.'}">Loc</td>
            <td class="px-4 py-2" th:text="${f.category != null ? f.category.name : 'n.v.t.'}">Cat</td>
            <td class="px-4 py-2 text-right">
              <a th:href="@{|/admin/festivals/${f.festivalId}/edit|}" class="px-3 py-1 rounded border">Bewerken</a>
              <form th:action="@{|/admin/festivals/${f.festivalId}/delete|}" method="post" class="inline">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                <button class="px-3 py-1 rounded border text-red-600">Verwijderen</button>
              </form>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </main>

  <div th:replace="~{fragments :: footer}"></div>
</body>
</html>
